#!/usr/bin/env sh
INTERFACE=$(ls /sys/class/net | grep "\bw.*")
[ -z "$INTERFACE" ] && exit

WCONNECTED=$(cat /sys/class/net/w*/operstate)
if [ "$WCONNECTED" = 'down' ]; then
    printf "󰢾 0%\n"
else
    SIGNAL=$(grep "^\s*w" /proc/net/wireless | awk '{ print int($3 * 100 / 70) }')
    printf "󰢾 %s%s\n" "$SIGNAL" "%"
fi
